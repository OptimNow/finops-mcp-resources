## Simulation & Forecasting Use Case with AWS MCP Agents

This tutorial shows how AWS MCP agents can transform FinOps workflowsâ€”from **prompt to cost estimates**â€”in just minutes. Instead of waiting weeks for manual analysis, MCP agents connect prompts to AWS data, Infrastructure-as-Code, and cost models to deliver actionable results.



### What the demo covers
- **Business Scenario**: Prototype an IoT environmental monitoring platform and evaluate its costs and scaling economics.  

- **Use case setup**: Start with 50 sensors (temperature, humidity, air quality) sending data every 5 minutes. Data ingested in **US-East-1** and analyzed in **Paris**, with a simple real-time dashboard. MCP agents generate a CloudFormation template and we deploy it on AWS.  

- **MCP output**:
  - Estimated prototype costs (table by service & region)  
  - [CloudFormation Template generated by MCP](https://drive.google.com/file/d/1RRjqzQ_X1mkqJLfNOyUc0psP7r4B0s2C/view?usp=drive_link)  
  - Python load generator script  
  
- **Reality check**: Compare estimates vs. actuals after 48h of usage: we identified a small gap mainly due to underestimated S3.  

- **Refinement**: Adjust estimates and rerun the agent â†’ new results within **<5% accuracy**.  

- **Scaling simulation**: Scale to 10,000 sensors, calculate **unit economics** and cost breakdown (ingest ~52%, storage ~28%, transfer ~20%).  

- **Business case**: Derive a pricing strategy at **60% gross margin**, showing how MCP supports both technical and financial decision-making.  

- **Exec perspective**: Options for public vs. private deployments, with governance guardrails (AWS Bedrock, IAM, SCP).

  

### Key takeaway
MCP agents enable **faster, more accurate forecasting and cost simulation**, empowering both executives and practitioners to validate business cases with confidence.



## Video

<div>
    <a href="https://www.loom.com/share/4c35a817a91543ea8763e8b55bf1d0ef">
      <p>Leveraging AI and MCP for Cost Estimation in FinOps ðŸš€ - Watch Video</p>
    </a>
    <a href="https://www.loom.com/share/4c35a817a91543ea8763e8b55bf1d0ef">
      <img style="max-width:300px;" src="https://cdn.loom.com/sessions/thumbnails/4c35a817a91543ea8763e8b55bf1d0ef-38dabc9ea8fd7869-full-play.gif">
    </a>
  </div>




## Prompts:

### First prompt for the set-up:

```
Youâ€™re a Cloud FinOps assistant, knowledgeable about cloud financial management for AWS, Azure, GCP, and you leverage MCP servers to perform your work. You break down business requirements into actionable subtasks. Given business requirements, and taking into consideration architecture guidelines and budget constraints, you output the specified deliverables under the specified format, and summarise your findings, avoiding fluff, background or personal commentary.

Business Requirements:

Prototype for an IoT environmental monitoring system.
50 environmental sensors (temperature, humidity, air quality).
Sensors transmit data every 5 minutes (~14,400 data points/day).
Real-time dashboard for current readings (single-user access).
Historical data visualization and simple trend reporting.
No real-time processing, no alerting, no notifications.
Data retention period: 30 days (demo purposes only).
Region: US East (N. Virginia) â€“ us-east-1 .
24-hour test window for cost validation.


Architecture Guidelines:

EC2 instance (t3.micro) running a simple web application using Node.js or Python (Flask).
RDS instance (db.t3.micro) using MySQL or PostgreSQL for sensor data storage.
S3 bucket for static assets or backup storage.
CloudWatch enabled only for basic monitoring (CPU and status checks).


Budget Constraints:

Target monthly budget: $30 USD.
Target daily budget (for validation/demo): $1.00 USD.
Cost estimation should exclude AWS Free Tier usage.


Deliverables:

Convert estimation to HTML format with DAILY cost breakdown.
Include cost optimization recommendations (Reserved Instances, Spot, right-sizing).
Include an architecture brief and architecture diagram.

CloudFormation template to provision:

EC2 instance.
RDS instance.
S3 bucket.

```



### Second prompt: reality check

```
Can you check the AWS costs from the last 7 days, filtered by the tag aws:cloudformation:stack-name=MCPIoTDemo, and compare them against the cost estimation you previously provided.
```



### Third Prompt: Scaling the prototype and building the business case

```
Now that we have validated our prototype, we want to scale it from 50 to 10,000 sensors.
Indicate which components would require scaling and how that would impact overall cost.
Based on the scaled up architecture, perform a unit economics analysis to determine:
The cost per sensor and the variation from before it scaled

Deliverables:
Estimate cost per sensor per month with the new setup.
Provide recommendations to optimize cost at scale (e.g. instance size upgrades, storage strategies).
Provide a pricing strategy per sensor considering 30% gross margin and summarize it in a business case.
Output in HTML format, include an executive summary for business stakeholders.
```

